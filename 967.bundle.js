"use strict";(self.webpackChunkrealtime_chat=self.webpackChunkrealtime_chat||[]).push([[967],{1967:function(e,t,n){n.r(t);var i=n(5893),r=n(30),a=n(7961),s=n(5161),o=n(2475),d=n(2498),l=n(6677),c=n(7294),h=n(3349),u=n(4132),p=n(1591),x=n(2972),f=n(2327),g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g.apply(this,arguments)};t.default=function(){var e=(0,c.useContext)(u._),t=e.auth,n=e.firestore,m=(0,h.F_)(t)[0],j=(0,c.useState)(""),v=j[0],y=j[1],w=(0,f.$)().t,Z=(0,l.d4)((0,p.hJ)(n,"messages")),b=Z[0];return Z[1]?(0,i.jsx)(x.Z,{}):(0,i.jsx)(d.Z,{children:(0,i.jsxs)(r.ZP,g({container:!0,justifyContent:"center",style:{height:window.innerHeight-50,margin:"0"}},{children:[(0,i.jsx)("div",g({style:{width:"80%",height:"60vh",border:"1px solid gray",overflowY:"auto",marginTop:"5px",overflowX:"clip"}},{children:b.sort((function(e,t){return e.createdAt-t.createdAt})).map((function(e){return(0,i.jsxs)("div",g({style:{margin:10,border:e.uid===m.uid?"2px solid green":"2px dashed red",marginLeft:e.uid===m.uid?"auto":"10px",width:"fit-content",maxWidth:"80%",padding:5}},{children:[(0,i.jsxs)(r.ZP,g({container:!0},{children:[(0,i.jsx)(a.Z,{style:{marginRight:5},src:e.photoURL}),(0,i.jsx)("div",{children:e.displayName})]})),(0,i.jsx)("div",g({className:"message"},{children:e.text}))]}))}))})),(0,i.jsxs)(r.ZP,g({container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"}},{children:[(0,i.jsx)(s.Z,{value:v,onChange:function(e){return y(e.target.value)},fullWidth:!0,variant:"outlined"}),(0,i.jsx)(o.Z,g({onClick:function(){try{v?((0,p.ET)((0,p.hJ)(n,"messages"),{uid:m.uid,displayName:m.displayName,photoURL:m.photoURL,text:v,createdAt:(0,p.Bt)()}),y("")):alert("Введите текст.")}catch(e){console.log(e),alert("Произошла ошибка")}},variant:"outlined"},{children:w("send")}))]}))]}))})}}}]);